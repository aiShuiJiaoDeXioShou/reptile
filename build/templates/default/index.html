{{define "default/index.html"}}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/static/img/favicon.ico">
    <title>传说之下</title>
    <style>
        .def-body .win {
            min-width: 100%;
            max-height: 100%;
            min-height: 1400px;
        }

        body {
            background: linear-gradient(135deg, #65799b, #5e2563);
        }
    </style>
    <link rel="stylesheet" href="/static/css/bootstrap-icons/bootstrap-icons.css">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
</head>

<body>
    {{template "head" .}}
    <input type="hidden" id="error" name="error" value="{{.error}}">
    <div class="def-body" id="head" v-loading="loading">
        <iframe class="win" src="/body/model" frameborder="0" name="win-root"></iframe>
    </div>

    <!-- import Vue before Element -->
    <script src="/static/js/vue.js"></script>
    <!-- import JavaScript -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>

    <script>
        const headApp = new Vue({
            el: '#head',
            data() {
                return {
                    loading: true,
                    error: ''
                }
            },
            mounted() {
                let error = document.querySelector("#error")
                console.log(error.value);
                if (error.value !== "" && error.value !== null && error.value !== undefined) {
                    alert(error.value);
                }
            },
        })

        // 过场动漫
        document.onreadystatechange = () => {
            headApp.loading = false
        }
    </script>
    {{template "end" .}}
</body>

</html>
{{end}}